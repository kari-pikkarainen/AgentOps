<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgentOps - AI Agent Workflow Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="logo-container">
                <!-- Hexagon Grid Logo - Modular AI Architecture -->
                <svg class="logo" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Primary hexagon -->
                    <path d="M12 2L17.5 5.5V12.5L12 16L6.5 12.5V5.5L12 2Z" 
                          fill="var(--primary)" 
                          opacity="0.9"/>
                    
                    <!-- Connecting hexagons -->
                    <path d="M4 8L7 6.5V10.5L4 12L1 10.5V6.5L4 8Z" 
                          fill="var(--accent)" 
                          opacity="0.7"/>
                    
                    <path d="M20 8L23 6.5V10.5L20 12L17 10.5V6.5L20 8Z" 
                          fill="var(--secondary)" 
                          opacity="0.7"/>
                    
                    <path d="M12 16L15 17.5V21.5L12 23L9 21.5V17.5L12 16Z" 
                          fill="var(--warning)" 
                          opacity="0.6"/>
                    
                    <!-- Connection lines -->
                    <line x1="6.5" y1="9" x2="4" y2="8" 
                          stroke="var(--primary)" 
                          stroke-width="1" 
                          opacity="0.4"/>
                    
                    <line x1="17.5" y1="9" x2="20" y2="8" 
                          stroke="var(--primary)" 
                          stroke-width="1" 
                          opacity="0.4"/>
                    
                    <line x1="12" y1="16" x2="12" y2="17.5" 
                          stroke="var(--primary)" 
                          stroke-width="1" 
                          opacity="0.4"/>
                </svg>
                <span class="logo-text">AgentOps</span>
            </div>
            <div class="header-center">
                <div class="workflow-progress">
                    <div class="step-indicator" data-step="1">
                        <span class="step-number">1</span>
                        <span class="step-label">Specification</span>
                    </div>
                    <div class="step-indicator" data-step="2">
                        <span class="step-number">2</span>
                        <span class="step-label">Location</span>
                    </div>
                    <div class="step-indicator" data-step="3">
                        <span class="step-number">3</span>
                        <span class="step-label">Tasks</span>
                    </div>
                    <div class="step-indicator" data-step="4">
                        <span class="step-number">4</span>
                        <span class="step-label">Planning</span>
                    </div>
                    <div class="step-indicator" data-step="5">
                        <span class="step-number">5</span>
                        <span class="step-label">Execution</span>
                    </div>
                </div>
                <div class="control-buttons">
                    <button id="prev-btn" class="btn btn-secondary" disabled>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle;">
                            <path d="m15 18-6-6 6-6"/>
                        </svg>
                        Previous
                    </button>
                    <button id="next-btn" class="btn btn-primary">
                        Next
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle;">
                            <path d="m9 18 6-6-6-6"/>
                        </svg>
                    </button>
                    <button id="start-execution-btn" class="btn btn-success" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle;">
                            <polygon points="5,3 19,12 5,21"/>
                        </svg>
                        Start Execution
                    </button>
                </div>
            </div>
            <div class="header-right">
                <button id="settings-btn" class="btn btn-outline btn-small">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                    Settings
                </button>
            </div>
        </header>

        <div class="main-content">
            <!-- Step 1: Project Specification -->
            <div id="step-1" class="workflow-step active">
                <div class="step-content">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: text-bottom;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        Project Specification
                    </h2>
                    <p class="step-description">Choose your project type and provide specifications to guide the AI agent workflow</p>
                    
                    <div class="project-type-selection">
                        <h3>
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                <circle cx="12" cy="12" r="10"/>
                                <circle cx="12" cy="12" r="6"/>
                                <circle cx="12" cy="12" r="2"/>
                            </svg>
                            Project Type
                        </h3>
                        <div class="project-type-options">
                            <label class="project-type-option">
                                <input type="radio" name="project-type" value="new" checked />
                                <div class="option-card">
                                    <div class="option-icon">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="10"/>
                                            <line x1="12" y1="8" x2="12" y2="16"/>
                                            <line x1="8" y1="12" x2="16" y2="12"/>
                                        </svg>
                                    </div>
                                    <div class="option-content">
                                        <h4>New Project</h4>
                                        <p>Create a new project with Claude AI-generated specifications</p>
                                    </div>
                                </div>
                            </label>
                            <label class="project-type-option">
                                <input type="radio" name="project-type" value="existing" />
                                <div class="option-card">
                                    <div class="option-icon">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2l5 0 2 3h9a2 2 0 0 1 2 2z"/>
                                        </svg>
                                    </div>
                                    <div class="option-content">
                                        <h4>Existing Project</h4>
                                        <p>Continue work on an existing project by selecting its location</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- New Project Section -->
                    <div id="new-project-section" class="project-section">
                        <div class="claude-guidance">
                        <div class="guidance-card">
                            <h3>
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                    <circle cx="12" cy="12" r="10"/>
                                    <circle cx="12" cy="12" r="6"/>
                                    <circle cx="12" cy="12" r="2"/>
                                </svg>
                                Step-by-Step Guide
                            </h3>
                            <ol class="guidance-steps">
                                <li>
                                    <strong>Open Claude in a new tab</strong>
                                    <a href="https://claude.ai" target="_blank" class="btn btn-outline btn-small">Open Claude AI →</a>
                                </li>
                                <li>
                                    <strong>Use this prompt to generate your specification:</strong>
                                    <div class="prompt-box">
                                        <pre id="claude-prompt">Create a comprehensive product specification for my software project. Include:

1. Project Overview & Vision
2. Target Audience & User Personas
3. Core Features & Functionality
4. Technical Requirements & Architecture
5. User Interface & Experience Guidelines
6. Success Metrics & KPIs
7. Timeline & Development Phases
8. Risk Assessment & Mitigation

Please ask me questions about my project idea first, then create a detailed specification in markdown format.</pre>
                                    </div>
                                    <button class="copy-btn" onclick="copyPrompt()">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                        </svg>
                                        Copy Prompt
                                    </button>
                                </li>
                                <li>
                                    <strong>Answer Claude's questions</strong> about your project idea to refine the specification
                                </li>
                                <li>
                                    <strong>Copy the final markdown specification</strong> that Claude generates
                                </li>
                                <li>
                                    <strong>Paste it below</strong> to continue with your AgentOps workflow
                                </li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="project-name">Project Name</label>
                        <input type="text" id="project-name" placeholder="Enter your project name..." />
                        <small class="form-help">This should match the project name from your Claude specification</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="claude-specification">Project Specification</label>
                        <div class="spec-input-group">
                            <textarea id="claude-specification" rows="12" 
                                      placeholder="Enter your project specification here, or generate one using the AI assistant...

Example format:
# Project Name

## Project Overview
Your project description...

## Core Features
- Feature 1
- Feature 2

## Technical Requirements
- Technology stack
- Architecture decisions

... etc"></textarea>
                            <div class="spec-actions">
                                <button type="button" id="generate-spec-btn" class="btn btn-outline">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    Generate with AI
                                </button>
                                <button type="button" onclick="togglePreview()" class="btn btn-outline">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                        <circle cx="12" cy="12" r="3"/>
                                    </svg>
                                    Preview
                                </button>
                                <button type="button" onclick="extractProjectDetails()" class="btn btn-outline">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="11" cy="11" r="8"/>
                                        <path d="m21 21-4.35-4.35"/>
                                    </svg>
                                    Extract Details
                                </button>
                            </div>
                        </div>
                        <small class="form-help">Enter a project specification or generate one using AI. This will be parsed to extract project details.</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="additional-notes">Additional Notes (Optional)</label>
                        <textarea id="additional-notes" rows="3" 
                                  placeholder="Any additional thoughts, constraints, or modifications to the Claude specification..."></textarea>
                    </div>
                    
                    <div class="preview-section" id="spec-preview" style="display: none;">
                        <h3>📄 Specification Preview</h3>
                        <div class="preview-content" id="preview-content"></div>
                        <button class="btn btn-outline btn-small" onclick="togglePreview()">Hide Preview</button>
                    </div>
                    
                        <div class="action-buttons">
                            <button class="btn btn-outline" onclick="togglePreview()">👁️ Preview Specification</button>
                            <button class="btn btn-outline" onclick="extractProjectDetails()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="m21 21-4.35-4.35"/>
                                </svg>
                                Extract Project Details
                            </button>
                        </div>
                    </div>

                    <!-- Existing Project Section -->
                    <div id="existing-project-section" class="project-section" style="display: none;">
                        <h3>📁 Select Existing Project</h3>
                        <p class="section-description">Choose the location of your existing project to continue development</p>
                        
                        <div class="form-group">
                            <label for="existing-project-path">Project Directory</label>
                            <div class="file-input-group">
                                <input type="text" id="existing-project-path" placeholder="Select existing project folder..." readonly />
                                <button id="browse-existing-project-btn" class="btn btn-outline">Browse</button>
                            </div>
                            <small class="form-help">Select the root directory of your existing project</small>
                        </div>

                        <div class="form-group">
                            <label for="existing-project-name">Project Name (Optional)</label>
                            <input type="text" id="existing-project-name" placeholder="Enter project name or leave blank to auto-detect..." />
                            <small class="form-help">We'll try to auto-detect the project name from package.json, README, or directory name</small>
                        </div>

                        <div id="project-analysis" class="analysis-section" style="display: none;">
                            <h4>📊 Project Analysis</h4>
                            <div id="analysis-results" class="analysis-results">
                                <!-- Analysis results will be populated here -->
                            </div>
                            <div class="analysis-actions">
                                <button class="btn btn-outline btn-small" onclick="reanalyzeProject()">🔄 Re-analyze</button>
                                <button class="btn btn-outline btn-small" onclick="viewProjectFiles()">📁 View Files</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Folder Selection -->
            <div id="step-2" class="workflow-step">
                <div class="step-content">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: text-bottom;">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2l5 0 2 3h9a2 2 0 0 1 2 2z"/>
                        </svg>
                        Project Folder Selection
                    </h2>
                    <p class="step-description">Choose your project directory and configure monitoring settings</p>
                    
                    <div class="form-group">
                        <label for="project-path">Project Directory</label>
                        <div class="file-input-group">
                            <input type="text" id="project-path" placeholder="Select project folder..." readonly />
                            <button id="browse-folder-btn" class="btn btn-outline">Browse</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Monitoring Options</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="monitor-git" checked /> Monitor Git operations
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="monitor-files" checked /> Monitor file changes
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="monitor-commands" checked /> Monitor command execution
                            </label>
                        </div>
                    </div>
                    
                    <div id="project-scan-results" class="scan-results" style="display: none;">
                        <h3>Project Analysis</h3>
                        <div id="scan-summary"></div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Task Identification -->
            <div id="step-3" class="workflow-step">
                <div class="step-content">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: text-bottom;">
                            <circle cx="12" cy="12" r="10"/>
                            <circle cx="12" cy="12" r="6"/>
                            <circle cx="12" cy="12" r="2"/>
                        </svg>
                        Task Identification
                    </h2>
                    <p class="step-description">AI-generated tasks based on your project specification and analysis</p>
                    
                    <div class="loading-state" id="task-loading">
                        <div class="spinner"></div>
                        <div class="progress-info">
                            <p id="analysis-status">Analyzing project and generating tasks...</p>
                            <div class="progress-details" id="progress-details">
                                <div class="progress-step" id="step-analyze">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                        <circle cx="11" cy="11" r="8"/>
                                        <path d="m21 21-4.35-4.35"/>
                                    </svg>
                                    Analyzing project structure...
                                </div>
                                <div class="progress-step" id="step-identify">📋 Identifying task categories...</div>
                                <div class="progress-step" id="step-generate">⚡ Generating specific tasks...</div>
                                <div class="progress-step" id="step-prioritize">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                        <circle cx="12" cy="12" r="10"/>
                                        <circle cx="12" cy="12" r="6"/>
                                        <circle cx="12" cy="12" r="2"/>
                                    </svg>
                                    Prioritizing and estimating...
                                </div>
                            </div>
                            <div class="task-summary" id="task-summary" style="display: none;">
                                <div class="summary-item">
                                    <span class="summary-label">Tasks Found:</span>
                                    <span class="summary-value" id="task-count">0</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">High Priority:</span>
                                    <span class="summary-value" id="high-priority-count">0</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Estimated Time:</span>
                                    <span class="summary-value" id="total-time">0 min</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="identified-tasks" class="task-list" style="display: none;">
                        <h3>Identified Tasks</h3>
                        <div id="tasks-container"></div>
                        
                        <div class="task-controls">
                            <button id="add-custom-task-btn" class="btn btn-outline">+ Add Custom Task</button>
                            <button id="regenerate-tasks-btn" class="btn btn-outline">🔄 Regenerate Tasks</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4: Task Planning -->
            <div id="step-4" class="workflow-step">
                <div class="step-content">
                    <h2>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: text-bottom;">
                            <path d="M3 3v5h5"/>
                            <path d="M21 21v-5h-5"/>
                            <path d="M12 7h7v10"/>
                            <path d="M5 17h7V7"/>
                        </svg>
                        Task Planning
                    </h2>
                    <p class="step-description">Review and organize task execution order</p>
                    
                    <div class="planning-interface">
                        <div class="task-priorities">
                            <h3>Task Execution Order</h3>
                            <div id="task-order-list" class="sortable-list">
                                <!-- Tasks will be populated here -->
                            </div>
                        </div>
                        
                        <div class="execution-settings">
                            <h3>Execution Settings</h3>
                            <div class="form-group">
                                <label for="execution-mode">Execution Mode</label>
                                <select id="execution-mode">
                                    <option value="step-by-step">Step-by-step (manual approval)</option>
                                    <option value="semi-auto">Semi-automatic (pause on errors)</option>
                                    <option value="automatic">Fully automatic</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="claude-instance-limit">Max Claude Instances</label>
                                <input type="number" id="claude-instance-limit" value="2" min="1" max="5" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 5: Live Execution & Monitoring -->
            <div id="step-5" class="workflow-step">
                <div class="step-content execution-view">
                    <div class="execution-header">
                        <div class="execution-title-row">
                            <h2>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px; vertical-align: text-bottom;">
                                    <polygon points="5,3 19,12 5,21"/>
                                </svg>
                                Live Execution & Monitoring
                            </h2>
                            <div class="execution-stats" id="execution-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Files Modified:</span>
                                    <span class="stat-value" id="files-modified-count">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Lines Changed:</span>
                                    <span class="stat-value" id="lines-changed-count">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Errors:</span>
                                    <span class="stat-value error" id="errors-count">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Warnings:</span>
                                    <span class="stat-value warning" id="warnings-count">0</span>
                                </div>
                            </div>
                        </div>
                        <div class="execution-controls">
                            <button id="pause-execution-btn" class="btn btn-warning">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="6" y="4" width="4" height="16"/>
                                    <rect x="14" y="4" width="4" height="16"/>
                                </svg>
                                Pause
                            </button>
                            <button id="stop-execution-btn" class="btn btn-danger">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                </svg>
                                Stop
                            </button>
                            <button id="resume-execution-btn" class="btn btn-success" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="5,3 19,12 5,21"/>
                                </svg>
                                Resume
                            </button>
                            <button id="pause-after-next-btn" class="btn btn-outline">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="6" y="4" width="4" height="16"/>
                                    <rect x="14" y="4" width="4" height="16"/>
                                </svg>
                                Pause After Next
                            </button>
                            <button id="stop-after-next-btn" class="btn btn-outline">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                </svg>
                                Stop After Next
                            </button>
                        </div>
                    </div>
                    
                    <div class="execution-layout">
                        <div class="left-panel">
                            <div class="task-progress-section">
                                <h3>Task Progress</h3>
                                <div id="task-progress-list" class="task-progress-list">
                                    <!-- Task progress items will be populated here -->
                                </div>
                            </div>
                            
                            <div class="claude-instances-section">
                                <h3>Claude Instances</h3>
                                <div id="claude-instances-list" class="instances-list">
                                    <!-- Claude instances will be populated here -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="right-panel">
                            <div class="live-activity-section">
                                <h3>Live Activity Feed</h3>
                                <div class="activity-filters">
                                    <button class="filter-btn active" data-filter="all">All</button>
                                    <button class="filter-btn" data-filter="command">Commands</button>
                                    <button class="filter-btn" data-filter="file_change">Files</button>
                                    <button class="filter-btn" data-filter="git_command">Git</button>
                                    <button class="filter-btn" data-filter="error">Errors</button>
                                </div>
                                <div id="live-activity-timeline" class="live-activity-timeline">
                                    <!-- Live activities will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom Task Modal -->
        <div id="custom-task-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Custom Task</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="custom-task-title">Task Title</label>
                        <input type="text" id="custom-task-title" placeholder="Enter task title..." />
                    </div>
                    <div class="form-group">
                        <label for="custom-task-description">Task Description</label>
                        <textarea id="custom-task-description" rows="3" 
                                  placeholder="Describe what should be accomplished..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="custom-task-priority">Priority</label>
                        <select id="custom-task-priority">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancel-custom-task-btn" class="btn btn-secondary">Cancel</button>
                    <button id="add-custom-task-confirm-btn" class="btn btn-primary">Add Task</button>
                </div>
            </div>
        </div>

        <!-- AI Spec Generator Modal -->
        <div id="ai-spec-generator-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        AI Specification Generator
                    </h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="project-idea">Project Idea</label>
                        <textarea id="project-idea" rows="3" 
                                  placeholder="Describe your project idea in a few sentences...
Example: A web application for tracking personal fitness goals with social features"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="target-audience">Target Audience</label>
                        <input type="text" id="target-audience" 
                               placeholder="Who will use this? (e.g., fitness enthusiasts, developers, students)" />
                    </div>
                    
                    <div class="form-group">
                        <label for="tech-preferences">Technology Preferences (Optional)</label>
                        <input type="text" id="tech-preferences" 
                               placeholder="Preferred technologies (e.g., React, Node.js, Python, etc.)" />
                    </div>
                    
                    <div class="generating-section" id="spec-generating" style="display: none;">
                        <div class="spinner"></div>
                        <p>Generating your project specification...</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancel-spec-gen-btn" class="btn btn-secondary">Cancel</button>
                    <button id="generate-spec-confirm-btn" class="btn btn-primary">Generate Specification</button>
                </div>
            </div>
        </div>

        <!-- Project Path Selection Modal -->
        <div id="folder-select-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Select Project Folder</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="folder-browser">
                        <div class="current-path" id="current-path">/</div>
                        <div class="folder-list" id="folder-list">
                            <!-- Folder contents will be populated here -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancel-folder-select-btn" class="btn btn-secondary">Cancel</button>
                    <button id="select-folder-btn" class="btn btn-primary">Select This Folder</button>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                            <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                        AgentOps Settings
                    </h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h4>
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                <rect x="3" y="11" width="18" height="10" rx="2" ry="2"/>
                                <circle cx="12" cy="5" r="2"/>
                                <path d="m8 21-3 0 0-5 3 0"/>
                                <path d="m19 21 3 0 0-5-3 0"/>
                                <path d="M12 11V7"/>
                                <path d="M8 5h.01"/>
                                <path d="M16 5h.01"/>
                            </svg>
                            AI Agent Configuration
                        </h4>
                        
                        <div class="form-group">
                            <label for="ai-agent-provider">AI Agent Provider</label>
                            <select id="ai-agent-provider">
                                <option value="claude-code" selected>Claude Code</option>
                                <option value="coming-soon" disabled>OpenAI Agents (Coming Soon)</option>
                                <option value="coming-soon-2" disabled>Custom Agents (Coming Soon)</option>
                            </select>
                            <small class="form-help">Select the AI agent system to use for task execution</small>
                        </div>

                        <div id="claude-code-settings" class="agent-settings">
                            <div class="form-group">
                                <label for="claude-code-path">Claude Code Executable Path</label>
                                <div class="file-input-group">
                                    <input type="text" id="claude-code-path" placeholder="Auto-detect or specify path..." />
                                    <button id="detect-claude-btn" class="btn btn-outline btn-small">Auto-detect</button>
                                </div>
                                <small class="form-help">Path to the Claude Code CLI executable (leave blank for auto-detection)</small>
                            </div>

                            <div class="form-group">
                                <label for="claude-code-args">Default Arguments</label>
                                <input type="text" id="claude-code-args" placeholder="--model sonnet --max-tokens 8000" />
                                <small class="form-help">Default command line arguments for Claude Code instances</small>
                            </div>

                            <div class="form-group">
                                <label for="max-concurrent-instances">Max Concurrent Instances</label>
                                <input type="number" id="max-concurrent-instances" value="3" min="1" max="10" />
                                <small class="form-help">Maximum number of Claude Code instances to run simultaneously</small>
                            </div>

                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="auto-restart-failed" checked />
                                    Auto-restart failed instances
                                </label>
                                <small class="form-help">Automatically restart Claude Code instances that crash or fail</small>
                            </div>
                        </div>

                        <div class="claude-status">
                            <h5>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                    <circle cx="12" cy="12" r="3"/>
                                    <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
                                </svg>
                                Claude Code Status
                            </h5>
                            <div id="claude-status-display" class="status-display">
                                <div class="status-item">
                                    <span class="status-label">Availability:</span>
                                    <span id="claude-availability" class="status-value">Checking...</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Version:</span>
                                    <span id="claude-version" class="status-value">Unknown</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Active Instances:</span>
                                    <span id="claude-active-instances" class="status-value">0</span>
                                </div>
                            </div>
                            <button id="test-claude-connection" class="btn btn-outline btn-small">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                                </svg>
                                Test Connection
                            </button>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h4>
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 6px; vertical-align: text-bottom;">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                            </svg>
                            General Settings
                        </h4>
                        
                        <div class="form-group">
                            <label for="activity-history-limit">Activity History Limit</label>
                            <input type="number" id="activity-history-limit" value="1000" min="100" max="10000" step="100" />
                            <small class="form-help">Maximum number of activities to keep in memory</small>
                        </div>

                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="auto-save-workflows" checked />
                                Auto-save workflow progress
                            </label>
                            <small class="form-help">Automatically save workflow state between sessions</small>
                        </div>

                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="show-debug-info" />
                                Show debug information
                            </label>
                            <small class="form-help">Display additional debug information in the interface</small>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="reset-settings-btn" class="btn btn-secondary">Reset to Defaults</button>
                    <button id="cancel-settings-btn" class="btn btn-secondary">Cancel</button>
                    <button id="save-settings-btn" class="btn btn-primary">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>